<!DOCTYPE html>
<html>
<head>
  <script type="text/javascript" src="https://cdn.rawgit.com/AtlasOfLivingAustralia/ala-map-plugin/master/web-app/vendor/jquery-2.1.4/jquery-2.1.4.min.js"></script>
  <script type="text/javascript" src="https://cdn.rawgit.com/AtlasOfLivingAustralia/ala-map-plugin/master/web-app/vendor/underscore-1.8.3/underscore.min.js"></script>
  <script type="text/javascript" src="https://cdn.rawgit.com/AtlasOfLivingAustralia/ala-map-plugin/master/web-app/vendor/leaflet-0.7.7/leaflet.js"></script>
  <script type="text/javascript" src="https://cdn.rawgit.com/AtlasOfLivingAustralia/ala-map-plugin/master/web-app/vendor/Leaflet.Coordinates-0.1.5/Leaflet.Coordinates-0.1.5.min.js"></script>
  <script type="text/javascript" src="https://cdn.rawgit.com/AtlasOfLivingAustralia/ala-map-plugin/master/web-app/vendor/Leaflet.EasyButton-1.2.0/easy-button.js"></script>
  <script type="text/javascript" src="https://cdn.rawgit.com/AtlasOfLivingAustralia/ala-map-plugin/master/web-app/vendor/Leaflet.draw-0.2.4/leaflet.draw.js"></script>
  <script type="text/javascript" src="https://cdn.rawgit.com/AtlasOfLivingAustralia/ala-map-plugin/master/web-app/vendor/Leaflet.loading-0.1.16/Control.Loading.js"></script>
  <script type="text/javascript" src="https://cdn.rawgit.com/AtlasOfLivingAustralia/ala-map-plugin/master/web-app/vendor/Leaflet.markercluster-0.4.0-hotfix.1/leaflet.markercluster.js"></script>
  <script type="text/javascript" src="https://cdn.rawgit.com/AtlasOfLivingAustralia/ala-map-plugin/master/web-app/vendor/leaflet-control-geocoder-1.3.2/Control.Geocoder.js"></script>
  <script type="text/javascript" src="https://cdn.rawgit.com/AtlasOfLivingAustralia/ala-map-plugin/master/web-app/vendor/onImpressions/jquery.onimpression.js"></script>
  <script type="text/javascript" src="https://cdn.rawgit.com/AtlasOfLivingAustralia/ala-map-plugin/master/web-app/vendor/turf-2.0.2/turf.min.js"></script>
  <script type="text/javascript" src="https://cdn.rawgit.com/AtlasOfLivingAustralia/ala-map-plugin/master/web-app/js/layers/SmartWmsLayer.js"></script>
  <script type="text/javascript" src="https://cdn.rawgit.com/AtlasOfLivingAustralia/ala-map-plugin/master/web-app/js/controls/TwoStepSelector.js"></script>
  <script type="text/javascript" src="https://cdn.rawgit.com/AtlasOfLivingAustralia/ala-map-plugin/master/web-app/js/Map.js"></script>

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.rawgit.com/AtlasOfLivingAustralia/ala-map-plugin/master/web-app/css/map.css"></link>
  <link rel="stylesheet" href="https://cdn.rawgit.com/AtlasOfLivingAustralia/ala-map-plugin/master/web-app/vendor/font-awesome-4.5.0/css/font-awesome.min.css"></link>
  <link rel="stylesheet" href="https://cdn.rawgit.com/AtlasOfLivingAustralia/ala-map-plugin/master/web-app/vendor/Leaflet.Coordinates-0.1.5/Leaflet.Coordinates-0.1.5.css"></link>
  <link rel="stylesheet" href="https://cdn.rawgit.com/AtlasOfLivingAustralia/ala-map-plugin/master/web-app/vendor/leaflet-0.7.7/leaflet.css"></link>
  <link rel="stylesheet" href="https://cdn.rawgit.com/AtlasOfLivingAustralia/ala-map-plugin/master/web-app/vendor/Leaflet.EasyButton-1.2.0/easy-button.css"></link>
  <link rel="stylesheet" href="https://cdn.rawgit.com/AtlasOfLivingAustralia/ala-map-plugin/master/web-app/vendor/Leaflet.draw-0.2.4/leaflet.draw.css"></link>
  <link rel="stylesheet" href="https://cdn.rawgit.com/AtlasOfLivingAustralia/ala-map-plugin/master/web-app/vendor/Leaflet.loading-0.1.16/Control.Loading.css"></link>
  <link rel="stylesheet" href="https://cdn.rawgit.com/AtlasOfLivingAustralia/ala-map-plugin/master/web-app/vendor/Leaflet.markercluster-0.4.0-hotfix.1/MarkerCluster.css"></link>
  <link rel="stylesheet" href="https://cdn.rawgit.com/AtlasOfLivingAustralia/ala-map-plugin/master/web-app/vendor/Leaflet.markercluster-0.4.0-hotfix.1/MarkerCluster.Default.css"></link>
  <link rel="stylesheet" href="https://cdn.rawgit.com/AtlasOfLivingAustralia/ala-map-plugin/master/web-app/vendor/leaflet-control-geocoder-1.3.2/Control.Geocoder.css"></link>

  <style>
    .code {
      font-family: monospace;
      font-size: 12px;
      white-space: pre;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="row">
      <h1>Default Map</h1>
      <div class="col-md-6">
        <div id="defaultMap" data-leaflet-img="https://cdn.rawgit.com/AtlasOfLivingAustralia/ala-map-plugin/master/web-app/vendor/leaflet-0.7.7/images" style="width:550px; height:450px"></div>
      </div>
      <div class="col-md-6">
        <div class="code">
          new ALA.Map("defaultMap", {});
        </div>
      </div>
      <script type="text/javascript">
        new ALA.Map("defaultMap", {});
      </script>
    </div>


    <div class="row">
      <h1>Read-only Map</h1>
      <div class="col-md-6">
        <div id="readonlyMap" data-leaflet-img="https://cdn.rawgit.com/AtlasOfLivingAustralia/ala-map-plugin/master/web-app/vendor/leaflet-0.7.7/images" style="width:550px; height:450px"></div>
      </div>
      <div class="col-md-6">
        <div class="code">
          new ALA.Map("readonlyMap", {
            drawControl: false,
            singleMarker: false,
            useMyLocation: false,
            allowSearchByAddress: false,
            draggableMarkers: false,
            showReset: false});
        </div>
      </div>
      <script type="text/javascript">
        new ALA.Map("readonlyMap", {drawControl: false,
            singleMarker: false,
            useMyLocation: false,
            allowSearchByAddress: false,
            draggableMarkers: false,
            showReset: false});
      </script>
    </div>



    <div class="row">
      <h1>Two-step selector</h1>
      <div class="col-md-6">
        <div id="twoStepMap" data-leaflet-img="https://cdn.rawgit.com/AtlasOfLivingAustralia/ala-map-plugin/master/web-app/vendor/leaflet-0.7.7/images" style="width:550px; height:450px"></div>
      </div>
      <div class="col-md-6">
        <div class="code">
          var map = new ALA.Map("twoStepMap", {
              drawControl: false,
              singleMarker: false,
              useMyLocation: false,
              allowSearchByAddress: false,
              draggableMarkers: false,
              showReset: false,
          });
          var twoStep = {
            id: "twoStepDemo",
            title: "Select something",
            firstStepPlaceholder: "Choose an option...",
            secondStepPlaceholder: "Choose another option...",
            firstStepItems: [{key: "1", value:"1"}, {key: "2", value: "2"}],
            secondStepItemLookup: function (selectedKey, populateStep2Callback) {
                var step2 = selectedKey == "1" ?
                    [{key: "1.1", value:"1.1"}, {key: "1.2", value: "1.2"}] :
                    [{key: "2.1", value:"2.1"}, {key: "2.2", value: "2.2"}]
                populateStep2Callback(step2);
            },
            selectionAction: function (selectedValue) {
                map.addMarker(-28, 134).bindPopup(selectedValue);
            }
          };
          var selector = new L.Control.TwoStepSelector(twoStep);
          map.addControl(selector);
        </div>
      </div>
      <script type="text/javascript">
        var map1 = new ALA.Map("twoStepMap", {
            drawControl: false,
            singleMarker: false,
            useMyLocation: false,
            allowSearchByAddress: false,
            draggableMarkers: false,
            showReset: false,
        });
        var twoStep = {
          id: "twoStepDemo",
          title: "Select something",
          firstStepPlaceholder: "Choose an option...",
          secondStepPlaceholder: "Choose another option...",
          firstStepItems: [{key: "1", value:"1"}, {key: "2", value: "2"}],
          secondStepItemLookup: function (selectedKey, populateStep2Callback) {
              var step2 = selectedKey == "1" ?
                  [{key: "1.1", value:"1.1"}, {key: "1.2", value: "1.2"}] :
                  [{key: "2.1", value:"2.1"}, {key: "2.2", value: "2.2"}]
              populateStep2Callback(step2);
          },
          selectionAction: function (selectedValue) {
              map1.addMarker(-28, 134).bindPopup(selectedValue);
          }
        };
        var selector = new L.Control.TwoStepSelector(twoStep);
        map1.addControl(selector);
      </script>
    </div>

    <div class="row">
      <h1>Clustered Points</h1>
      <div class="col-md-6">
        <div id="clusterMap" data-leaflet-img="https://cdn.rawgit.com/AtlasOfLivingAustralia/ala-map-plugin/master/web-app/vendor/leaflet-0.7.7/images" style="width:550px; height:450px"></div>
      </div>
      <div class="col-md-6">
        <div class="code">
          var map = new ALA.Map("clusterMap", {});

          var coords = [];
          for (var i = 0; i < 100; i++) {
            var latlng = getRandomLatLng(map.getMapImpl());
            coords.push({lat: latlng.lat, lng: latlng.lng, popup: "Marker " + i});
          }

          map.addClusteredPoints(coords);

        </div>
      </div>
      <script type="text/javascript">
        var map2 = new ALA.Map("clusterMap", {});

        var coords = [];
        for (var i = 0; i < 100; i++) {
          var latlng = getRandomLatLng(map2.getMapImpl());
          coords.push({lat: latlng.lat, lng: latlng.lng, popup: "Marker " + i});
        }

        map2.addClusteredPoints(coords);

        function getRandomLatLng(map) {
    			var bounds = map.getBounds(),
    				southWest = bounds.getSouthWest(),
    				northEast = bounds.getNorthEast(),
    				lngSpan = northEast.lng - southWest.lng,
    				latSpan = northEast.lat - southWest.lat;

    			return new L.LatLng(
    					southWest.lat + latSpan * Math.random(),
    					southWest.lng + lngSpan * Math.random());
    		}
      </script>
    </div>


    <div class="row">
      <h1>GeoJSON</h1>
      <div class="col-md-6">
        <div id="geoMap" data-leaflet-img="https://cdn.rawgit.com/AtlasOfLivingAustralia/ala-map-plugin/master/web-app/vendor/leaflet-0.7.7/images" style="width:550px; height:450px"></div>
      </div>
      <div class="col-md-6">
        <div class="code">
          var map = new ALA.Map("geoMap", {});
          var geoJson = {
            type: "Feature",
            properties: {},
            geometry: {
              type: "Polygon",
              coordinates: [[[133.06640625, -22.10599879975055],
              [124.8046875,  -28.998531814051795],
              [144.580078125, -30.06909396443886],
              [133.06640625,  -22.10599879975055]]]
            }
          }
          map.setGeoJSON(geoJson);
        </div>
      </div>
      <script type="text/javascript">
        var map3 = new ALA.Map("geoMap", {});
        var geoJson = {
          type: "Feature",
          properties: {},
          geometry: {
            type: "Polygon",
            coordinates: [[[133.06640625, -22.10599879975055],
            [124.8046875,  -28.998531814051795],
            [144.580078125, -30.06909396443886],
            [133.06640625,  -22.10599879975055]]]
          }
        }
        map3.setGeoJSON(geoJson);
      </script>
    </div>


    <div class="row">
      <h1>Hidden Polygon with marker and mouseover</h1>
      <div class="col-md-6">
        <div id="mouseoverMap" data-leaflet-img="https://cdn.rawgit.com/AtlasOfLivingAustralia/ala-map-plugin/master/web-app/vendor/leaflet-0.7.7/images" style="width:550px; height:450px"></div>
      </div>
      <div class="col-md-6">
        <div class="code">
          var map = new ALA.Map("mouseoverMap", {});
          var geoJson = {
            type: "Feature",
            properties: {},
            geometry: {
              type: "Polygon",
              coordinates: [[[133.06640625, -22.10599879975055],
              [124.8046875,  -28.998531814051795],
              [144.580078125, -30.06909396443886],
              [133.06640625,  -22.10599879975055]]]
            }
          };
          map.setGeoJSON(geoJson, {
            markerWithMouseOver: true
          });
        </div>
      </div>
      <script type="text/javascript">
        var map4 = new ALA.Map("mouseoverMap", {});
        var geoJson = {
          type: "Feature",
          properties: {},
          geometry: {
            type: "Polygon",
            coordinates: [[[133.06640625, -22.10599879975055],
            [124.8046875,  -28.998531814051795],
            [144.580078125, -30.06909396443886],
            [133.06640625,  -22.10599879975055]]]
          }
        };
        map4.setGeoJSON(geoJson, {
          markerWithMouseOver: true
        });
      </script>
    </div>

  </div>
</body>



</html>
