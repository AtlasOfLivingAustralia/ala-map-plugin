<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: Map</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: Map</h1>

    




<section>

<header>
    
        <h2>
            <span class="ancestors"><a href="ALA.html">ALA</a>.</span>Map</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    

    <h4 class="name" id="Map"><span class="type-signature"></span>new Map<span class="signature">(id, options)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Object for interacting with the map.

<p/>
<b>Options</b>
<ul>
 <li><pre>center</pre> - Centre position of the map. Default: -28, 134</li>
 <li><pre>zoom</pre> - the initial zoom level. Default: 4</li>
 <li><pre>scrollWheelZoom</pre> - whether to enable zooming in/out by scrolling the mouse. Default: false</li>
 <li><pre>fullscreenControl</pre> - whether to include a full-screen option. Default: true</li>
 <li><pre>fullscreenControlOptions:</pre>
     <ul>
         <li><pre>position</pre> - position of the button on the map. Default: topleft</li>
     </ul>
 <li><pre>drawControl</pre> - whether to include drawing controls or not. Default: true</li>
 <li><pre>singleDraw</pre> - whether to allow more than 1 shape or region to be drawn at a time. This does NOT apply to markers - only layers and other shapes. See also singleMarker and markerOrShapeNotBoth. Default: true</li>
 <li><pre>singleMarker</pre> - whether to allow more than 1 marker to be drawn at a time.. Default: true</li>
 <li><pre>markerOrShapeNotBoth</pre> - whether to allow users to draw both markers and regions/shapes at the same time. Default: true</li>
 <li><pre>useMyLocation</pre> - whether to include a "Use My Location" button to place a marker on the map at the user's location. Default: true</li>
 <li><pre>allowSearchByAddress</pre> - whether to allow the user to search by address to place a marker on the map. Default: true</li>
 <li><pre>zoomToObject</pre> - whether to automatically fit the map to the bounds of a new object when added. Default: true</li>
 <li><pre>draggableMarkers</pre> - whether to allow point markers to be draggable by default. Default: true</li>
 <li><pre>wmsFeatureUrl</pre> - the URL to call to fetch features of a WMS layer (e.g. http://spatial-dev.ala.org.au/geoserver/wms/reflect?). The PID will be appended to this URL.. Default: </li>
 <li><pre>wmsLayerUrl</pre> - the URL to call to retrieve a WMS layer. The PID will be appended to this URL.. Default: </li>
</ul>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">Unique id of the map container div. Mandatory.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Configuration options for the map. Optional - sensible defaults will be used if not provided. See the list above.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Map.js.html">Map.js</a>, <a href="Map.js.html#line58">line 58</a>
    </li></ul></dd>
    

    

    

    
</dl>
















    
    </div>

    

    

    

     

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id=".DEFAULT_OPTIONS"><span class="type-signature">(static) </span>DEFAULT_OPTIONS<span class="type-signature"></span></h4>




<div class="description">
    Default Map options
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Map.js.html">Map.js</a>, <a href="Map.js.html#line133">line 133</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id=".DEFAULT_POINT_MARKER_OPTIONS"><span class="type-signature">(static) </span>DEFAULT_POINT_MARKER_OPTIONS<span class="type-signature"></span></h4>




<div class="description">
    Default options for clustered point markers.

See http://leafletjs.com/reference.html#path-options for the options: this object overrides the standard Leaflet
options with our default values, where they are different.
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Map.js.html">Map.js</a>, <a href="Map.js.html#line186">line 186</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id=".LAYER_OPTIONS"><span class="type-signature">(static) </span>LAYER_OPTIONS<span class="type-signature"></span></h4>




<div class="description">
    Supported Layer options.

The following configuration options are available:
<ul>
    <li><pre>markerWithMouseOver</pre> - show a marker at the center of the layer, and hide the layer outline until the mouse is moved over the marker. Default: false</li>
    <li><pre>markerLocation</pre> - used with 'markerWithMouseOver' to specify the position of the marker - if not provided, the center of the layer's bounds will be used. Only works with a single feature.</li>
    <li><pre>popup</pre> - text or HTML to display when the layer (or the placeholder marker if markerWithMouseOver = true) is clicked.</li>
</ul>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Map.js.html">Map.js</a>, <a href="Map.js.html#line171">line 171</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id=".addButton"><span class="type-signature">(static) </span>addButton<span class="signature">(style, closure, position)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Adds a button to the map..

E.g.
<pre>
    addButton('fa fa-map-marker', function (button, map) { ... }
</pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>style</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">The CSS style, or a HTML string with a span or image etc, for the button</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>closure</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">A function pointer for the function to be invoked. The first parameter of the function will be the
leaflet button. The second parameter will be the leaflet map. I.e.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>position</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">Leaflet Position value. Defaults to 'topleft'</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Map.js.html">Map.js</a>, <a href="Map.js.html#line753">line 753</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id=".addClusteredPoints"><span class="type-signature">(static) </span>addClusteredPoints<span class="signature">(points, pointOptions)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Adds a layer of clustered L.circleMarker to the map. Clustered points are treated the same as other layers/shapes:
i.e. they are NOT considered to be 'markers' like those added with the #addMarker function.

See http://leafletjs.com/reference.html#path-options for the possible options.

Each point object in the points array must have the following structure:
<ul>
    <li><pre>lat</pre> - the latitude for the point. Mandatory.</li>
    <li><pre>lng</pre> - the longitude for the point. Mandatory.</li>
    <li><pre>popup</pre> - Text or HTML to be used as the popup when the marker is clicked. Optional.</li>
    <li><pre>options</pre> - options object to override specified options for the individual point. Optional.</li>
</ul>

Will notify all subscribers.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>points</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            

            

            <td class="description last">Mandatory array of objects with mandatory properties 'lat' and 'lng', and optionally an 'options' object.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>pointOptions</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Optional object containing configuration options to be applied to ALL points.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Map.js.html">Map.js</a>, <a href="Map.js.html#line465">line 465</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id=".addControl"><span class="type-signature">(static) </span>addControl<span class="signature">(control)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Adds a control widget to the map
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>control</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="L.Control.html">L.Control</a></span>


            
            </td>

            

            

            <td class="description last">The Leaflet Control to add</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Map.js.html">Map.js</a>, <a href="Map.js.html#line742">line 742</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id=".addLayer"><span class="type-signature">(static) </span>addLayer<span class="signature">(layer, layerOptions)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Add a new layer to the map.

Will notify all subscribers.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>layer</code></td>
            

            <td class="type">
            
                
<span class="param-type">ILayer</span>


            
            </td>

            

            

            <td class="description last">The Leaflet Layer to add</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>layerOptions</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Configuration options for the layer. See LAYER_OPTIONS for details of supported options. Optional.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Map.js.html">Map.js</a>, <a href="Map.js.html#line542">line 542</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id=".addMarker"><span class="type-signature">(static) </span>addMarker<span class="signature">(lat, lng, popup, markerOptions)</span><span class="type-signature"> &rarr; {L.Marker}</span></h4>

    



<div class="description">
    Adds a marker at the specified point.

Will notify all subscribers.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>lat</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last">Latitude for the marker. Mandatory.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>lng</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last">Longitude for the marker. Mandatory.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>popup</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">Text or HTML to display in a popup when the marker is clicked. Optional.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>markerOptions</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Object containing configuration items to override the defaults. Optional,</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Map.js.html">Map.js</a>, <a href="Map.js.html#line435">line 435</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    The L.marker object
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">L.Marker</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".addWmsLayer"><span class="type-signature">(static) </span>addWmsLayer<span class="signature">(pid, layerOptions)</span><span class="type-signature"> &rarr; {<a href="L.TileLayer.SmartWMS.html">L.TileLayer.SmartWMS</a>}</span></h4>

    



<div class="description">
    Utility method to add a WMS layer to the map.

Triggers events draw:drawstart and draw:created, and will notify all subscribers
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>pid</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">the PID of the region to be displayed in the WMS layer</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>layerOptions</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Configuration options for the layer. See LAYER_OPTIONS for details of supported options. Optional.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Map.js.html">Map.js</a>, <a href="Map.js.html#line565">line 565</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    the L.TileLayer.WMS object
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="L.TileLayer.SmartWMS.html">L.TileLayer.SmartWMS</a></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".clearBoundLimits"><span class="type-signature">(static) </span>clearBoundLimits<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Clears any limits on the map bounds. This will remove the max bounds (from setMaxBounds) and the display
bounds (from fitToBoundsOf) if they exist. The map will be reset to the bounds of the current content
(as per fitBounds).
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Map.js.html">Map.js</a>, <a href="Map.js.html#line714">line 714</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id=".clearLayers"><span class="type-signature">(static) </span>clearLayers<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Remove all drawn layers from the map. This does not remove markers: see self#clearMarkers.

Will notify all subscribers.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Map.js.html">Map.js</a>, <a href="Map.js.html#line380">line 380</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id=".clearMarkers"><span class="type-signature">(static) </span>clearMarkers<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Remove all markers from the map. This does not remove other layers or shapes: see self#clearLayers.

Will notify all subscribers.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Map.js.html">Map.js</a>, <a href="Map.js.html#line409">line 409</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id=".countFeatures"><span class="type-signature">(static) </span>countFeatures<span class="signature">()</span><span class="type-signature"> &rarr; {Integer}</span></h4>

    



<div class="description">
    Retrieve a count of all features (shapes, layers, markers, etc) on the map
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Map.js.html">Map.js</a>, <a href="Map.js.html#line803">line 803</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    count of all features (shapes, layers, markers, etc) on the map
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Integer</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".finishLoading"><span class="type-signature">(static) </span>finishLoading<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Stop the loading spinner on the map.

Note: This is done automatically for any direct changes on the map.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Map.js.html">Map.js</a>, <a href="Map.js.html#line831">line 831</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id=".fitBounds"><span class="type-signature">(static) </span>fitBounds<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Zoom and centre the map to fit the bounds of the current feature(s). If there are no features, then the map will
be set to the default zoom and centre.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Map.js.html">Map.js</a>, <a href="Map.js.html#line619">line 619</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id=".fitToBoundsOf"><span class="type-signature">(static) </span>fitToBoundsOf<span class="signature">(geoJSON)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Zoom and centre the map to fit the bounds of the provided GeoJSON object, but do NOT draw the object.

Subsequent calls to Reset Map will automatically fit the map to the bounds of this object.

The difference between this and setMaxBounds is that setMaxBounds will prevent the user from panning
outside the provided bounds, whereas this method will allow that.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>geoJSON</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Valid GeoJSON object to fit the map to</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Map.js.html">Map.js</a>, <a href="Map.js.html#line647">line 647</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id=".getAllMarkers"><span class="type-signature">(static) </span>getAllMarkers<span class="signature">()</span><span class="type-signature"> &rarr; {Array}</span></h4>

    



<div class="description">
    Retrieve all leaflet markers on the map
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Map.js.html">Map.js</a>, <a href="Map.js.html#line775">line 775</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    of all L.Markers on the map
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".getBounds"><span class="type-signature">(static) </span>getBounds<span class="signature">()</span><span class="type-signature"> &rarr; {Object}</span></h4>

    



<div class="description">
    Retrieve the current bounds for the map, if possible.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Map.js.html">Map.js</a>, <a href="Map.js.html#line594">line 594</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Leaflet Bounds object, or null if the bounds cannot be determined
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".getCentre"><span class="type-signature">(static) </span>getCentre<span class="signature">()</span><span class="type-signature"> &rarr; {Object}</span></h4>

    



<div class="description">
    Get the lat/lng coordinates of the centre of the map view
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Map.js.html">Map.js</a>, <a href="Map.js.html#line423">line 423</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    lat/lng object
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".getGeoJSON"><span class="type-signature">(static) </span>getGeoJSON<span class="signature">()</span><span class="type-signature"> &rarr; {GeoJSON}</span></h4>

    



<div class="description">
    Retrieves the standard GeoJSON representation of all features that have been drawn on the map.

Note that Circle objects are not supported by GeoJSON. Therefore, they are represented as Points in the resulting
geometry. A workaround has been added to include 'point_type' = 'circle' and 'radius' properties in the feature's
property object (this is still valid GeoJSON).
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Map.js.html">Map.js</a>, <a href="Map.js.html#line269">line 269</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Standard GeoJSON representation of the map's drawn features
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">GeoJSON</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".getMapId"><span class="type-signature">(static) </span>getMapId<span class="signature">()</span><span class="type-signature"> &rarr; {String}</span></h4>

    



<div class="description">
    Retrieve the unique id for this map
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Map.js.html">Map.js</a>, <a href="Map.js.html#line332">line 332</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    unique id of the map
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">String</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".getMapImpl"><span class="type-signature">(static) </span>getMapImpl<span class="signature">()</span><span class="type-signature"> &rarr; {Object}</span></h4>

    



<div class="description">
    Retrieve the underlying map implementation
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Map.js.html">Map.js</a>, <a href="Map.js.html#line343">line 343</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Leaflet Map object
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".getMarkerLocations"><span class="type-signature">(static) </span>getMarkerLocations<span class="signature">()</span><span class="type-signature"> &rarr; {Array}</span></h4>

    



<div class="description">
    Retrieve an array of objects of format [lat: x, lng: y] containing the coordinates of all markers on the map
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Map.js.html">Map.js</a>, <a href="Map.js.html#line786">line 786</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    [lat: x, lng: y] of all markers
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".markMyLocation"><span class="type-signature">(static) </span>markMyLocation<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Adds a marker at the user's current location.

Will notify all subscribers.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Map.js.html">Map.js</a>, <a href="Map.js.html#line523">line 523</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id=".notifyAll"><span class="type-signature">(static) </span>notifyAll<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Notify all subscribers of an update to the map
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Map.js.html">Map.js</a>, <a href="Map.js.html#line228">line 228</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id=".redraw"><span class="type-signature">(static) </span>redraw<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Invalidates the size of the map to trigger a re-draw, then fits the viewport to the current bounds.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Map.js.html">Map.js</a>, <a href="Map.js.html#line730">line 730</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id=".registerListener"><span class="type-signature">(static) </span>registerListener<span class="signature">(eventName, callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Adds a listener for the specified event
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>eventName</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">the Leaflet event to listen to. Mandatory.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">The function to invoke when the event occurs. Mandatory.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Map.js.html">Map.js</a>, <a href="Map.js.html#line240">line 240</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id=".removeLayer"><span class="type-signature">(static) </span>removeLayer<span class="signature">(layer)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Removes the specified layer from the map.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>layer</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">the Leaflet Layer object to remove</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Map.js.html">Map.js</a>, <a href="Map.js.html#line395">line 395</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id=".removeListener"><span class="type-signature">(static) </span>removeListener<span class="signature">(eventName, callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Removes a listener for the specified event. Leaflet identifies listeners by references, so the original
callback needs to be provided in order to find the listener to remove.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>eventName</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">the Leaflet event being listened to. Mandatory.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">The function to invoke when the event occurs. Mandatory.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Map.js.html">Map.js</a>, <a href="Map.js.html#line256">line 256</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id=".resetMap"><span class="type-signature">(static) </span>resetMap<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Removes all custom layers, reverts to the initial base layer, resets the zoom level to the default and re-centres
the map.

If fitToBoundsOf has been called previously, then resetMap will fit the map to the previously supplied
bounds. To reset to the default map centre & zoom, call clearBoundLimits before resetMap.

Will notify all subscribers.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Map.js.html">Map.js</a>, <a href="Map.js.html#line354">line 354</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id=".setGeoJSON"><span class="type-signature">(static) </span>setGeoJSON<span class="signature">(geoJSON, layerOptions)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Populate the map with the provided GeoJSON data.

If a Point feature's properties object contains "point_type: 'Circle' and "radius: {m}", then the point will be
rendered as a circle.

If the properties object of a feature includes a 'pid', then a new WMS layer will be added to the map instead of
a polygon layer.

See LAYER_OPTIONS for details of supported options.

Will notify all subscribers.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>geoJSON</code></td>
            

            <td class="type">
            
                
<span class="param-type">GeoJSON</span>


            
            </td>

            

            

            <td class="description last">Standard GeoJSON metadata for map features. This can be a JSON string, or a GeoJSON object.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>layerOptions</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Configuration options for the layer. See LAYER_OPTIONS for details of supported options. Optional.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Map.js.html">Map.js</a>, <a href="Map.js.html#line284">line 284</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id=".setMaxBounds"><span class="type-signature">(static) </span>setMaxBounds<span class="signature">(latLngBounds)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Zoom and centre the map to fit the provided bounds, and prevent the user from moving outside that boundary.

Subsequent calls to Reset Map will automatically fit the map to the bounds of this object.

The difference between this and fitToBoundsOf is that fitToBoundsOf will allow the user to pan outside
the provided bounds, whereas this method will not.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>latLngBounds</code></td>
            

            <td class="type">
            
                
<span class="param-type">LatLngBounds</span>


            
            </td>

            

            

            <td class="description last">The Leaflet LatLngBounds object to restrict the map to</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Map.js.html">Map.js</a>, <a href="Map.js.html#line698">line 698</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id=".startLoading"><span class="type-signature">(static) </span>startLoading<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Display a loading spinner on the map.

Note: This is done automatically for any direct changes on the map.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Map.js.html">Map.js</a>, <a href="Map.js.html#line819">line 819</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id=".subscribe"><span class="type-signature">(static) </span>subscribe<span class="signature">(callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Subscribe to all update events on the map.

To listen for specific events, use ALA.Map#registerListener instead.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">the callback function to be invoked when the map is updated</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Map.js.html">Map.js</a>, <a href="Map.js.html#line204">line 204</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id=".unsubscribe"><span class="type-signature">(static) </span>unsubscribe<span class="signature">(callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Stop listening to map update events.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">the callback function used to subscribe to events</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Map.js.html">Map.js</a>, <a href="Map.js.html#line217">line 217</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="ALA.Map.html">Map</a></li><li><a href="ALA.MapConstants.html">MapConstants</a></li><li><a href="ALA.MapUtils.html">MapUtils</a></li><li><a href="L.Control.Checkbox.html">Checkbox</a></li><li><a href="L.Control.Slider.html">Slider</a></li><li><a href="L.Control.TwoStepSelector.html">TwoStepSelector</a></li><li><a href="L.TileLayer.SmartWMS.html">SmartWMS</a></li></ul><h3>Namespaces</h3><ul><li><a href="ALA.html">ALA</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Tue Jan 19 2016 14:08:57 GMT+1100 (AEDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>