<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: MapUtils</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: MapUtils</h1>

    




<section>

<header>
    
        <h2>
            <span class="ancestors"><a href="ALA.html">ALA</a>.</span>MapUtils</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    

    <h4 class="name" id="MapUtils"><span class="type-signature"></span>new MapUtils<span class="signature">()</span><span class="type-signature"></span></h4>

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Map.js.html">Map.js</a>, <a href="Map.js.html#line1215">line 1215</a>
    </li></ul></dd>
    

    

    

    
</dl>
















    
    </div>

    

    

    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id=".bboxToPointArray"><span class="type-signature">(static) </span>bboxToPointArray<span class="signature">(bboxString, latFirst)</span><span class="type-signature"> &rarr; {Array}</span></h4>

    



<div class="description">
    Converts a bounding box string of format POLYGON((lng1 lat1, lng2 lat2,...)) (POLYGON or LINESTRING) into an
array of coordinates. The order of the latitude and longitude can be controlled by the latFirst parameter.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>bboxString</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">Bounding box string to convert</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>latFirst</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">True to produce LAT/LNG points, false to produce LNG/LAT points.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Map.js.html">Map.js</a>, <a href="Map.js.html#line1336">line 1336</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    array of points
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".calculateAreaKmSq"><span class="type-signature">(static) </span>calculateAreaKmSq<span class="signature">(geoJson)</span><span class="type-signature"> &rarr; {number}</span></h4>

    



<div class="description">
    Calculate the area of a given GeoJSON object in square kilometers. The GeoJSON object can be a FeatureCollection or a Feature.

For circle geometries, the Properties object must contain an attribute called Radius, with the radius in meters.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>geoJson</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">GeoJSON object to calculate the area for</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Map.js.html">Map.js</a>, <a href="Map.js.html#line1397">line 1397</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    The calculated area in square kilometers
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".createIcon"><span class="type-signature">(static) </span>createIcon<span class="signature">(iconUrl, iconOptions)</span><span class="type-signature"> &rarr; {Object}</span></h4>

    



<div class="description">
    Utility function to create a new marker icon with sensible defaults
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>iconUrl</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">The URL to the image for the marker. Mandatory.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>iconOptions</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Object containing leaflet Icon configuration options to override the defaults. Optional.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Map.js.html">Map.js</a>, <a href="Map.js.html#line1353">line 1353</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Leaflet Icon object
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".createMarker"><span class="type-signature">(static) </span>createMarker<span class="signature">(lat, lng, popup, markerOptions)</span><span class="type-signature"> &rarr; {Object}</span></h4>

    



<div class="description">
    Convenience utility for creating a new marker with optional configuration parameters and popup.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>lat</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last">Latitude of the marker. Mandatory.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>lng</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last">Longitude of the marker. Mandatory.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>popup</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">Text or HTML to display in a popup when the marker is clicked. Optional.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>markerOptions</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Standard Leaflet L.Marker configuration options. Optional.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Map.js.html">Map.js</a>, <a href="Map.js.html#line1379">line 1379</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Leaflet L.Marker object
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".getGeometryWithCirclesFromGeoJSON"><span class="type-signature">(static) </span>getGeometryWithCirclesFromGeoJSON<span class="signature">(geoJSON)</span><span class="type-signature"> &rarr; {*}</span></h4>

    



<div class="description">
    Utility method to take a standard GeoJSON object and change the geometry of Point types to Circle types (not
supported by the GeoJSON standard). This function assumes that the properties object of the circle features has
a property of 'point_type' with a value of 'circle', and a property of 'radius'.

I.e. this function will convert
<pre>
     {
        "type": "FeatureCollection",
        "features": [
          {
            "type": "Feature",
            "properties": {
              "point_type": "circle",
              "radius": 1027747.8506951465
            },
            "geometry": {
              "type": "Point",
              "coordinates": [
                122.51953124999999,
                -13.410994034321702
              ]
            }
          }
        ]
      }
</pre>
into
<pre>
{
    "type": "FeatureCollection",
    "features": [
      {
        "type": "Feature",
        "properties": {
          "point_type": "circle",
          "radius": 1027747.8506951465
        },
        "geometry": {
          "type": "Circle",
          "coordinates": [
            122.51953124999999,
            -13.410994034321702
          ],
          "centre": [
            122.51953124999999,
            -13.410994034321702
          ],
          "radius": 1027747.8506951465
        }
      }
    ]
  }
</pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>geoJSON</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Map.js.html">Map.js</a>, <a href="Map.js.html#line1274">line 1274</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">*</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".getStandardGeoJSONForCircleGeometry"><span class="type-signature">(static) </span>getStandardGeoJSONForCircleGeometry<span class="signature">(geoJSON)</span><span class="type-signature"> &rarr; {GeoJSON}</span></h4>

    



<div class="description">
    Performs the opposite of #getGeometryWithCirclesFromGeoJSON to produce valid standard GeoJSON.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>geoJSON</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">The modified GeoJSON to be converted back to the standard format.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Map.js.html">Map.js</a>, <a href="Map.js.html#line1294">line 1294</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">GeoJSON</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".wrapGeometryInGeoJSONFeatureCol"><span class="type-signature">(static) </span>wrapGeometryInGeoJSONFeatureCol<span class="signature">(geometry)</span><span class="type-signature"> &rarr; {Object}</span></h4>

    



<div class="description">
    Takes a bare geoJSON geometry object, and wraps it in a full GeoJSON structure with type=FeatureCollection
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>geometry</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">The geoJSON geometry object to wrap</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Map.js.html">Map.js</a>, <a href="Map.js.html#line1315">line 1315</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Full GeoJSON structure with type=FeatureCollection
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    



        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="ALA.Map.html">Map</a></li><li><a href="ALA.MapConstants.html">MapConstants</a></li><li><a href="ALA.MapUtils.html">MapUtils</a></li><li><a href="L.Control.Checkbox.html">Checkbox</a></li><li><a href="L.Control.Slider.html">Slider</a></li><li><a href="L.Control.TwoStepSelector.html">TwoStepSelector</a></li><li><a href="L.TileLayer.SmartWMS.html">SmartWMS</a></li></ul><h3>Namespaces</h3><ul><li><a href="ALA.html">ALA</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Tue Jan 19 2016 14:08:57 GMT+1100 (AEDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>